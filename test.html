<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<title>test</title>
	<link rel="stylesheet" href="">
	<script src="js/lib/jquery-1.12.0.js"></script>
	<style>
		.example-enter {
		  opacity: 0.01;
		}

		.example-enter.example-enter-active {
		  opacity: 1;
		  transition: opacity 800ms ease-in;
		}

		.example-leave {
		  opacity: 1;
		}

		.example-leave.example-leave-active {
		  opacity: 0.01;
		  transition: opacity 300ms ease-in;
		}

		.swapper {
		  opacity: 0.01;
		}

		.swapper.swapper-active {
		  opacity: 1;
		  transition: opacity 800ms ease-in;
		}

		.example-leave {
		  opacity: 1;
		}

		.example-leave.example-leave-active {
		  opacity: 0.01;
		  transition: opacity 300ms ease-in;
		}
	</style>
</head>
<body>
	<div class="hoverableComponent">
		<div  class="hoverable" onclick="moveDown(this)">	
			<img src="img/gallery1.jpg"  alt="tes" />
		</div>
		<div class="hoverable">
			<img src="img/gallery2.jpg" onclick="moveUp(this)"  alt="tes" />
		</div>
		<div class="hoverable">
			<img src="img/gallery3.jpg" onclick="moveUp(this)" alt="tes" />
		</div>
	</div>

	<script>


		(function(global, document, undef) {

		    var strundef = typeof(undef),
		        strstring = typeof("");

		    var bonavita = global.Bonavita = global.Bonavita||{};

		    // Element factory
		    bonavita.bonavitaElement = function(elem) {
		        var ElemObj = {
		            hasClass: function(className) {
		                if (elem && typeof(className) === strstring) {
		                    var classAttr = elem.getAttribute("class");
		                    var classes = (classAttr) ? classAttr.split(" ") : [];
		                    return (classes.indexOf(className) > -1);
		                }
		                return false;
		            },
		            addClass: function(className) {
		                if (elem && typeof(className) === strstring && !this.hasClass(className)) {
		                    var classAttr = elem.getAttribute("class");
		                    var classes = (classAttr) ? classAttr.split(" ") : [];
		                    classes.push(className);
		                    this.attr("class", classes.join(" "));
		                }
		                return this;
		            },
		            removeClass: function(className) {
		                if (elem && typeof(className) === strstring && this.hasClass(className)) {
		                    var classAttr = elem.getAttribute("class");
		                    var classes = (classAttr) ? classAttr.split(" ") : [];
		                    var indexOfClass = classes.indexOf(className);
		                    while (indexOfClass > -1) {
		                        classes.splice(indexOfClass, 1);
		                        indexOfClass = classes.indexOf(className);
		                    }
		                    this.attr("class", classes.join(" "));
		                }
		                return this;
		            },
		            attr: function(attrName, attrValue) {
		                if (elem && typeof(attrName) === strstring && typeof(attrValue) === strundef) {
		                    return elem.getAttribute(attrName);
		                } else if (elem && typeof(attrName) === strstring && typeof(attrValue) !== strundef) {
		                    elem.setAttribute(attrName, attrValue);
		                    return attrValue;
		                }
		                return null;
		            },
		            bind: function(eventType, eventCallback, captureMode, data) {
		                if (elem && elem.addEventListener) {
		                    return (elem.addEventListener(eventType, function(evt) {
		                        evt = evt || window.event;
		                        eventCallback.call(this, evt, data);
		                    }, captureMode));
		                } else if (elem && elem.attachEvent) {
		                    return (elem.attachEvent("on" + eventType, function(evt) {
		                        evt = evt || window.event;
		                        eventCallback.call(elem, evt, data);
		                    }));
		                } else if (elem) {
		                    elem["on" + eventType] = eventCallback;
		                }
		            },
		            toggle: function() {
		                if (elem) {
		                    var disp = this.getStyle("display");
		                    elem.style.display = (disp === "block") ? "none" : "block";
		                    return (!(disp === "block"));
		                }
		            },
		            getStyle: function(styleAttr) {
		                if (elem) {
		                    if (typeof styleAttr === "string") {
		                        if (elem.currentStyle) {
		                            return elem.currentStyle[styleAttr];
		                        } else if (window.getComputedStyle) {
		                            return window.getComputedStyle(elem, null)[styleAttr];
		                        } else if (elem.style) {
		                            return elem.style[styleAttr];
		                        }
		                        return "";
		                    }
		                }
		                return "";
		            },
		            hide: function() {
		                if (elem) {
		                    elem.style.display = "none";
		                }
		                return this;
		            },
		            show: function() {
		                if (elem) {
		                    elem.style.display = "block";
		                }
		                return this;
		            },
		            parent: function() {
		                if (elem) {
		                    return elem.parentNode;
		                }
		                return null;
		            },
		            html: function (val) {
		                if (typeof (val) === strundef) {
		                    return elem.innerHTML;
		                } else {
		                    elem.innerHTML = val;
		                    return this;
		                }
		            }
		        };
		        return ElemObj;
		    };
		    
		}(window, document));
/*

(function (global, undef) {

	// Define our constructor
	"use strict";
	var BV = global.BV = global.BV||{};


	BV.swapper = {
		moveUp: function(e,direction){
			var self = this, be = bonavita.bonavitaElement;
			component = e.target;
			hoverC = be(component).hasClass("hoverable") ? component : component.parentElement;
			if(hoverC.classList.contains("example-enter-active") ){
				hoverC.classList.remove("example-enter");
				hoverC.classList.remove("example-enter-active");	
			}
			if(hoverC.nextElementSibling.classList.contains("example-enter-active") ){
				hoverC.nextElementSibling.classList.remove("example-enter");
				hoverC.nextElementSibling.classList.remove("example-enter-active");	
			}
			hoverIndex = self._getChildElementdNumber(hoverC);
			hoverC.classList.add("example-enter");
			single.insertBefore(hoverC.nextElementSibling,hoverC);
			setTimeout(function(){
				hoverC.classList.add("example-enter-active");
			}, 0);
		},
		moveDown: function(elem,direction){
			var self = this;
		},
		_getChildElementdNumber :  function(element) {
			return Array.prototype.indexOf.call(element.parentElement.children, element);
		}
			
	}

	BV.swapper = function(elem,direction){

		var _data = {
			elem : "",
			parentElem : "",
			elmIndex : 0,
			nextElem : "",
			prevElem : "",
			enterClass : "",
			enterAnimateClass : ""
		};

		var _construction = function(){
			var d = _data;
			d.elem = e.target;
			d.elem = d.elem.classList.contains("hoverable") ? d.elem : d.elem.parentElement;
			d.elmIndex = _getChilElementdNumber(d.elem);
			d.parentElm = d.elem.parentElement;
			d.nextElem = d.elem.nextElementSibling;
			d.prevElem = d.elem.previousElementSibling;
		};

		var _getChilElementdNumber = function(element) {
			return Array.prototype.indexOf.call(element.parentElement.children, element);
		}
			
		var _init = function(){
			_construction();
		};

		_init();
	}
	
	/*BV.swapper = function(options) {

		// Define option defaults
		var defaults = {
		  parentClass:'swapperComponenet',
		  childrenClass:'swapperElement',
		  animation: 'fade' // ToDo give options like scale, rotate, 
		}
		
		var _extendDefaults = function(source, properties) {
			var property;
			for (property in properties) {
				if (properties.hasOwnProperty(property)) {
					source[property] = properties[property];
				}
			}
			return source;
		}
		// Create options by extending defaults with the passed in arugments
		if (arguments[0] && typeof arguments[0] === "object") {
			options = _extendDefaults(defaults, arguments[0]);
		}

		// Utility method to extend defaults with user options
		var _construction = function(){
			window.console.log(options);			
		}
		
		var _init = function(){
			_construction();
		}
		
		_init();
	}*/
		

/*}(window));*/




		var be = Bonavita.bonavitaElement;

		function moveDown(elem){
			elem = elem.target ? elem.target : elem;
			elem = be(elem).hasClass("hoverable") ? elem : elem.parentElement;
			parentElem = elem.parentElement;
			totalElem = parentElem.childElementCount - 1;
			elemIndex = getChildElementdNumber(elem,parentElem);
			nextElem = elemIndex ===  totalElem? elem : elem.nextElementSibling;
			removeClasses(elem,nextElem);
			be(elem).addClass("swapper");
			parentElem.insertBefore(nextElem,elem);
			animate(elem);
		}

		function animate(elem){
			setTimeout(function(){
				be(elem).addClass("swapper-active");
			}, 0);
		}

		function removeClasses(elem,sibling){
			if(be(elem).hasClass("swapper-active")){
				be(elem).removeClass("swapper");
				be(elem).removeClass("swapper-active");
			}
			if(be(sibling).hasClass("swapper-active")){
				be(sibling).removeClass("swapper");
				be(sibling).removeClass("swapper-active");
			}
		}

		function moveUp(elem){
			elem = elem.target ? elem.target : elem;
			elem = be(elem).hasClass("hoverable") ? elem : elem.parentElement;
			parentElem = elem.parentElement;
			elemIndex = getChildElementdNumber(elem,parentElem);
			prevElem = elemIndex === 0 ? elem : elem.previousElementSibling;
			removeClasses(elem,prevElem);
			be(elem).addClass("swapper");
			parentElem.insertBefore(elem,prevElem);
			animate(elem);
		}

		function getChildElementdNumber(element,parentElement) {
		  return Array.prototype.indexOf.call(parentElement.children, element);
		}

		/*var HC = document.querySelectorAll(".hoverableComponent");
		var single = HC[0];
		single.addEventListener("click", moveDown);*/
/*
		function getChildNodeNumber(node) {
		  return Array.prototype.indexOf.call(node.parentNode.childNodes, node);
		}

		single.addEventListener("mouseover", makeElementHoverable);

		initalCl = single.children[0].classList;

		single.addEventListener("click", handleClick);


		function handleClick(e){
			component = e.target;
			hoverC = component.classList.contains("hoverable") ? component : component.parentElement;
			if(hoverC.classList.contains("example-enter-active") ){
				hoverC.classList.remove("example-enter");
				hoverC.classList.remove("example-enter-active");	
			}

			if(hoverC.nextElementSibling.classList.contains("example-enter-active") ){
				hoverC.nextElementSibling.classList.remove("example-enter");
				hoverC.nextElementSibling.classList.remove("example-enter-active");	
			}
			hoverIndex = getChilElementdNumber(hoverC);
			hoverC.classList.add("example-enter");
			//hoverC.nextElementSibling.classList.add("example-enter");
			single.insertBefore(hoverC.nextElementSibling,hoverC);
			setTimeout(function(){
				hoverC.classList.add("example-enter-active");
				//hoverC.previousElementSibling.classList.add("example-enter-active");
			}, 0);
		}


		/*var HC = document.querySelectorAll(".hoverableComponent");
		var single = HC[0];

		function makeElementHoverable(e){
			component = e.target;
			hoverC = component.classList.contains("hoverable") ? component : component.parentElement;
			hoverIndex = getChilElementdNumber(hoverC);
			//hoverC.parentElement.insertBefore(hoverC.nextElementSibling,hoverC.parentElement.children[hoverIndex])
		}

		function getChilElementdNumber(element) {
		  return Array.prototype.indexOf.call(element.parentElement.children, element);
		}

		function getChildNodeNumber(node) {
		  return Array.prototype.indexOf.call(node.parentNode.childNodes, node);
		}

		//single.addEventListener("mouseover", makeElementHoverable);

		initalCl = single.children[0].classList;

		single.addEventListener("click", handleClick);


		function handleClick(e){
			component = e.target;
			hoverC = component.classList.contains("hoverable") ? component : component.parentElement;
			if(hoverC.classList.contains("example-enter-active") ){
				hoverC.classList.remove("example-enter");
				hoverC.classList.remove("example-enter-active");	
			}

			if(hoverC.nextElementSibling.classList.contains("example-enter-active") ){
				hoverC.nextElementSibling.classList.remove("example-enter");
				hoverC.nextElementSibling.classList.remove("example-enter-active");	
			}
			hoverIndex = getChilElementdNumber(hoverC);
			hoverC.classList.add("example-enter");
			//hoverC.nextElementSibling.classList.add("example-enter");
			single.insertBefore(hoverC.nextElementSibling,hoverC);
			setTimeout(function(){
				hoverC.classList.add("example-enter-active");
				//hoverC.previousElementSibling.classList.add("example-enter-active");
			}, 0);
		}
*/
/*
		var hoverComponent = document.querySelector(".hoverableComponent");
		hoverComponent.addEventListener("click", handleClick);

		function handleClick(e){
			componenet = e.target;
			hoverC = component.classList.contains("hoverable") ? component : component.parentElement;
			hoverIndex = getChilElementdNumber(hoverC);
			if(hoverIndex === 0){
				moveDown(hoverC);
			}else {
				moveUp(hoverC,hoverIndex);
			}
		};

		function getChilElementdNumber(element) {
		  return Array.prototype.indexOf.call(element.parentElement.children, element);
		};

		function moveDown(comp){
			var hoverIndex = 0;
			comp.parentElement.insertBefore(comp);
			hoverComponent.insertBefore(hoverC.nextElementSibling,hoverC.parentElement.children[hoverIndex])
		};

		function moveUp(comp){

		};*/

	</script>
</body>
</html>